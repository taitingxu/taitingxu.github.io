<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>随机RGBA</title>
  <base target="_blank">
  <style>
    .d {
      display: block;
    }

    .e {
      display: none;
    }

    div {
      width: 100%;
      height: 300px;
      border-style: solid;
    }

    code {
      display: block;
      background-color: rgba(0, 0, 0, 0.5);
      height: auto;
      padding: 10px;
      margin: 10px;
      border-radius: 5px;
      color: #fff;
      text-align: center;
    }

    button {
      height: 40px;
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      border-style: solid;
    }

    header {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    h1 {
      text-align: center;
      background-color: lightblue;
    }

    #text-to-copy {
      width: 100%;
    }

    p {
      width: 100%;
    }

    nav {
      display:block;
      background-color:black;
      text-decoration:none;
      padding:10px 16px;
      font-size:20px;
    }

    a {
      color:white;
      text-decoration:none;
      padding:10px 16px;
      font-weight:bold;
      margin-left:-16px;
      margin-right:16px;
      transition: background-color 0.5s;
    }

    a:hover {
      background-color:red;
    }

    a:active {
      background-color:blue;
    }

    a:visited {
      background-color: #666;
      color: #333;
    }
  </style>
</head>

<body>
  <nav>
    <a href="https://taitingxu.github.io/">主页</a>
    <a href="https://taitingxu.github.io/calculator/">计算器</a>
    <a href="//taitingxu.github.io/rock-paper-scissors/">剪刀石头布</a>
    <a href="https://taitingxu.github.io/mygames-video/">我的游戏实况</a>
  </nav>
  <header>
    <button class="r" onclick="clr();">随机颜色</button>
    <button class="d" onclick="s(false)">禁用透明度</button>
    <button class="e" onclick="s(true)">启用透明度</button>
  </header>
  <h1>

  </h1>
  <div>

  </div>
  <code></code>
  <button id="text-to-copy" onclick="copyText()">复制</button>
  <p></p>
  <script>
    let color = {
      r: 255,
      g: 255,
      b: 255,
      a: 1,
    };

    let dom = {
      d: document.querySelector(".d"),
      e: document.querySelector(".e"),
      c: document.getElementsByTagName("code")[0],
      st: document.getElementsByTagName("h1")[0],
      cp: document.getElementsByTagName("p")[0],
    }

    function s(s) {
      switch (s) {
        case true:
          color.a = Math.round(Math.random() * 100) / 100;
          dom.d.style.display = "block";
          dom.e.style.display = "none";
          dom.st.innerHTML = "透明度已启用";
          break;
        case false:
          color.a = 1;
          dom.d.style.display = "none";
          dom.e.style.display = "block";
          dom.st.innerHTML = "透明度已禁用";
          break;
        default:
          break;
      }
    }

    function clr() {
      color.r = Math.round(Math.random() * 256);
      color.g = Math.round(Math.random() * 256);
      color.b = Math.round(Math.random() * 256);
      if (color.a !== 1) { // 如果透明度不是1，说明透明度功能已启用
        color.a = Math.round(Math.random() * 100) / 100;
      }
      let rgbaColor = "rgba(" + color.r + "," + color.g + "," + color.b + "," + color.a + ")";
      document.querySelector("div").style.backgroundColor = rgbaColor;
      dom.c.innerHTML = "rgba(" + color.r + "," + color.g + "," + color.b + "," + color.a + ")";
    }

    function copyText() {
      // 获取要复制的文本元素
      var textArea = document.getElementsByTagName("code")[0];
      // 创建一个Range对象
      var range = document.createRange();
      // 选中textArea中的所有文本
      range.selectNodeContents(textArea);
      // 获取当前选区
      var selection = window.getSelection();
      // 清空当前选区
      selection.removeAllRanges();
      // 添加Range对象到选区
      selection.addRange(range);
      // 复制选中的文本
      document.execCommand("copy");
      // 清空选区
      selection.removeAllRanges();
      // 可选：复制成功后的提示
      alert("文本已复制到剪贴板！");
      dom.cp.innerHTML = "文本已复制到剪贴板！";
    }

  </script>
</body>

</html>
<!-- 有错误吗 -->
